<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>List of Assignments</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background-color: skyblue; 
        }
        h1 {
            margin-top: 20px;
            text-align: center;
            color: #333;
        }
        table {
            margin-top: 30px;
            width: 100%;
        }
        th, td {
            text-align: center;
        }
        .table-container {
            margin-top: 40px;
        }
        /* Style for the home icon */
        .home-icon {
            position: absolute;
            top: 20px;
            left: 20px;
            color: #080808;
        }
        .home-icon img {
            width: 40px;
            height: 40px;
        }
    </style>
</head>
<body>

    <!-- Home icon that redirects to the landing page -->
    <a href="Landing Page.html" class="home-icon">
        <img src="https://img.icons8.com/ios-filled/50/000000/home.png" alt="Home">
    </a>

    <div class="container">
        <h1>Assignments List</h1>

        <!-- Dropdown to select year of study -->
        <div class="mb-3">
            <label for="yearSelect" class="form-label">Select Year of Study:</label>
            <select id="yearSelect" class="form-select" onchange="updateModuleOptions()">
                <option value="">-- Select Year --</option>
                <option value="1">1st Year</option>
                <option value="2">2nd Year</option>
                <option value="3">3rd Year</option>
            </select>
        </div>

        <!-- Dropdown to select subject/module -->
        <div class="mb-3">
            <label for="moduleSelect" class="form-label">Select Module:</label>
            <select id="moduleSelect" class="form-select" onchange="filterAssignments()">
                <option value="">-- Select Module --</option>
                <!-- Module options will be updated dynamically based on year of study -->
            </select>
        </div>

        <!-- Table of assignments -->
        <div class="table-container">
            <table class="table table-bordered table-striped" id="assignmentsTable">
                <thead class="table-dark">
                    <tr>
                        <th>#</th>
                        <th>Module Code</th>
                        <th>Assignment Description</th>
                        <th>Open Date</th>
                        <th>Submission Date</th>
                        <th>Marks</th>
                        <th>File Size (MB)</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Sample assignments -->
                    <tr data-module="HMDC 121" data-year="1">
                        <td>1</td>
                        <td>HMDC 121</td>
                        <td>Introduction to HMDC 121</td>
                        <td>2024-10-01</td>
                        <td>2024-10-15</td>
                        <td>85</td>
                        <td>50</td>
                    </tr>
                    <tr data-module="HMSC 122" data-year="2">
                        <td>2</td>
                        <td>HMSC 122</td>
                        <td>Overview of HMSC 122 Concepts</td>
                        <td>2024-10-05</td>
                        <td>2024-10-20</td>
                        <td>90</td>
                        <td>60</td>
                    </tr>
                    <tr data-module="HMSC 221" data-year="3">
                        <td>3</td>
                        <td>HMSC 221</td>
                        <td>Advanced Topics in HMSC 221</td>
                        <td>2024-10-10</td>
                        <td>2024-10-25</td>
                        <td>88</td>
                        <td>70</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        const modulesByYear = {
            1: ['HMDC 121', 'HMDC 122'],
            2: ['HMSC 122', 'HMSC 221'],
            3: ['HMSC 221', 'HMSC 322']
        };

        // Function to update module dropdown based on selected year
        function updateModuleOptions() {
            const yearSelect = document.getElementById("yearSelect").value;
            const moduleSelect = document.getElementById("moduleSelect");

            // Clear existing options
            moduleSelect.innerHTML = '<option value="">-- Select Module --</option>';

            if (yearSelect) {
                // Add modules based on selected year
                modulesByYear[yearSelect].forEach(module => {
                    const option = document.createElement("option");
                    option.value = module;
                    option.text = module;
                    moduleSelect.appendChild(option);
                });
            }

            // Call the filter function in case user changes the year
            filterAssignments();
        }

        // Function to filter assignments based on selected year and module
        function filterAssignments() {
            const selectedYear = document.getElementById("yearSelect").value;
            const selectedModule = document.getElementById("moduleSelect").value;
            const rows = document.querySelectorAll("#assignmentsTable tbody tr");

            rows.forEach(row => {
                const rowYear = row.getAttribute("data-year");
                const rowModule = row.getAttribute("data-module");

                if ((selectedYear === "" || rowYear === selectedYear) &&
                    (selectedModule === "" || rowModule === selectedModule)) {
                    row.style.display = ""; // Show row
                } else {
                    row.style.display = "none"; // Hide row
                }
            });
        }

        // Load assignments from localStorage when the page loads (if applicable)
        window.onload = function() {
            const assignments = JSON.parse(localStorage.getItem("assignments")) || [];

            // Display stored assignments in the table (this can be added if needed)
            // displayAssignments(assignments);
        }
    </script>

</body>
</html>
